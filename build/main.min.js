const img=document.getElementById("img"),buttons=document.getElementById("buttons");let colorIndex=0,intervalId=null;const trafficLight=e=>{stopAutomatic(),turnOn[e.target.id]()},nextIndex=()=>colorIndex=colorIndex<2?++colorIndex:0,changeColor=()=>{var e=["red","yellow","green"][colorIndex];turnOn[e](),nextIndex()},stopAutomatic=()=>{clearInterval(intervalId)},turnOn={red:()=>img.src="./img/vermelho.png",yellow:()=>img.src="./img/amarelo.png",green:()=>img.src="./img/verde.png",automatic:()=>intervalId=setInterval(changeColor,1e3)};buttons.addEventListener("click",trafficLight);